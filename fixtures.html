<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
        <title>Nepal Premier League</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font Awesome -->
    <!-- https://fontawesome.com/search  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer">
    <link rel="shortcut icon" type="image/png" href="assets/NPLLogo.jpg">
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <!-- Logo -->
        <div class="logo">
            <a href="index.html"><img src="assets/NPLLogo.jpg" alt="Logo"></a>
        </div>
        <!-- Follow Us Section -->
        <div class="follow-us">
            <h4>Follow us</h4>
            <a href="https://www.instagram.com/officialnplt20/profilecard/?igsh=MWQ4YmhiY3pjMWt4YQ==" target="_blank">
                <i class="fa-brands fa-instagram"></i></a>
            <a href="https://youtube.com/@officialnplt20?si=GuzBCHmQbulXNwYh" target="_blank">
                <i class="fa-brands fa-youtube"></i></a>
                <a href="https://www.facebook.com/OfficialNPLT20?mibextid=LQQJ4d" target="_blank">
                    <i class="fa-brands fa-facebook"></i></a>
        </div>
    </header>

    <!-- Navbar Section -->
    <nav class="navbar">
        <ul >
            <li><a href="index.html">Home</a></li>
            <li><a href="fixtures.html">Fixtures</a></li>
            <li><a href="pointstable.html">Points Table</a></li>
            <li><a href="teams.html">Teams</a></li>
            <li><a href="stats.html">Stats</a></li>
        </ul>
    </nav>

        <!--fixtures table-->
    <!-- MAIN CONTENT: POINTS TABLE -->
    <main class="main-content">
        <section class="points-section">
            <h1 class="points-title">Nepal Premier League 2025 â€“ Fixtures</h1>
            <p class="points-subtitle">
                <!-- Standings for NPL Season 2 (updated from local data file). -->
            </p>

            <div class="points-table-wrapper">
                <table class="points-table">
                    <thead>
                        <tr>
                            <th>DATE</th>
                            <th>MATCH</th>
                            <th>Team A</th>
                            <th>-</th>
                            <th>Team B</th>
                            <th>RESULT</th>
                        </tr>
                    </thead>
                    <tbody id="points-body">
                        <!-- Rows will be injected by JavaScript -->
                    </tbody>
                </table>
            </div>

            <p id="points-loading" class="points-message">Loading points table...</p>
            <p id="points-error" class="points-message error-message" style="display: none;">
                Could not load points table. Please try again later.
            </p>
        </section>
    </main>



    <!-- Footer Section  -->
        <footer class="footer">
            &copy;Copy rights all reserved. By ERAA4IT!
          </footer>

          <!-- Chat Popup Box -->
    <div id="chatBox" class="chat-popup">
        <div class="chat-header">Support Chat</div>
        <p>Hello! How can we help you?</p>
    </div>

    <!-- Circular Chat Button -->
    <div class="chat-button" onclick="toggleChat()">
        <i class="fa-solid fa-message"></i>
    </div>

    <script>
    function toggleChat() {
        const box = document.getElementById("chatBox");
        box.style.display = (box.style.display === "block") ? "none" : "block";
    }
    </script>

    <script>
        function toggleChat() {
            const box = document.getElementById("chatBox");
            box.style.display = (box.style.display === "block") ? "none" : "block";
        }

        // Load Season 2 points table from local JSON
        async function loadfixtureTable() {
            const tbody = document.getElementById("points-body");
            const loadingMsg = document.getElementById("points-loading");
            const errorMsg = document.getElementById("points-error");

            loadingMsg.style.display = "block";
            errorMsg.style.display = "none";
            tbody.innerHTML = "";

            try {
                // IMPORTANT: this path must match folder structure
                const response = await fetch("data/npl2025-fixtures.json");

                if (!response.ok) {
                    throw new Error("Network response was not ok");
                }

                const data = await response.json();

                loadingMsg.style.display = "none";

                if (!Array.isArray(data) || data.length === 0) {
                    errorMsg.textContent = "No points data available right now.";
                    errorMsg.style.display = "block";
                    return;
                }

                data.forEach(team => {
                    const tr = document.createElement("tr");

                    tr.innerHTML = `
                        <td>${team.date}</td>
                        <td>${team.match}</td>
                        <td>${team.teama}</td>
                        <td>${team.round}</td>
                        <td>${team.teamb}</td>
                        <td>${team.result}</td>
                    `;

                    tbody.appendChild(tr);
                });
            } catch (err) {
                console.error("Failed to load points table:", err);
                loadingMsg.style.display = "none";
                errorMsg.style.display = "block";
            }
        }

        document.addEventListener("DOMContentLoaded", loadfixtureTable);
    </script>


</body>
</html>
